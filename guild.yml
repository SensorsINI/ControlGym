- model: controller_mpc
  description: MPC Control Experiment
  operations:
    run_control:
      description: Run a control experiment
      main: main
      flags-dest: config:config.yml
      flags-import: all
      output-scalars:
        - mean_reward: 'Mean total reward: (\value)'
        - mean_steps_to_completion: 'Mean steps to completion: (\value)'
      sourcecode:
        - '**.py'
        - '**.yml'
        - exclude: Output
      # flags:
      #   controller_name:
      #       choices:
      #         - value: controller_mpc
      #       required: yes
      #   optimizer_name:
      #     choices:
      #       - value: optimizer_cem_tf
      #       - value: optimizer_mppi_tf
      #       - value: optimizer_mppi_var_tf
      #       - value: optimizer_mppi_optimize_tf
      #       - value: optimizer_cem_grad_bharadhwaj_tf
      #       - value: optimizer_gradient_tf
      #       - value: optimizer_random_action_tf
      #       - value: optimizer_rpgd_tf
      #       - value: optimizer_rpgd_me_tf
      #       - value: optimizer_rpgd_ml_tf
      #     required: yes
      #   environment_name:
      #     choices:
      #       - value: MountainCarContinuous-v0
      #       - value: CartPoleSimulator-v0
      #       - value: DubinsCar-v0
      #       - value: Acrobot-v0
      #       - value: Pendulum-v0
      #       - value: CartPoleContinuous-v0
      #       - value: BipedalWalkerBatched-v0
      #       - value: ObstacleAvoidance-v0
      #     required: yes
      requires:  # Reference here the resources defined below
        - config
        - Control_Toolkit
        - Control_Toolkit_ASF
        - SI_Toolkit
        - SI_Toolkit_ASF
        - Environments
  resources:  # Define all configuration files here
    config:
      - config: config.yml
        target-type: copy
    Control_Toolkit:
      - file: Control_Toolkit
        target-type: copy
    Control_Toolkit_ASF:
      - file: Control_Toolkit_ASF
        target-type: copy
    SI_Toolkit:
      - file: SI_Toolkit
        target-type: copy
    SI_Toolkit_ASF:
      - file: SI_Toolkit_ASF
        target-type: copy
    Environments:
      - file: Environments/config_environments.yml
        target-type: copy
